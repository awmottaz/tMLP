%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%% the MOTTAZ STANDARD LaTeX PREAMBLE (HOMEWORK) %%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% v. 2.0 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%    Author: Anthony Mottaz
%    Version: 2.0  (2016/02/10)
%    Description: The MOTTAZ STANDARD LaTeX PREAMBLE is a collection of
%                 preambles that have been optimally designed for tasks that are
%                 of primary concern to students and professors of mathematics.
%                    This particular preamble, the 'HOMEWORK' edition, has
%                 lots of preloaded packages and features that are optimal for
%                 typing solutions to homework. For a complete list and
%                 descriptions of these features, refer to the Usage Guide PDF
%                 document. For release notes and version change logs, see the
%                 README.
%                    Lots of time and thought has gone into creating the most
%                 comprehensive and useful preamble possible, but the work is
%                 never done. If you experience issues with this preamble or
%                 have any suggestions for improvement, please contact me at
%
%                                 anthonywmottaz@gmail.com
%
%                 Happy TeXing!
%                 - A.M.
%
%    HOW TO USE: At the beginning of your document, after '\documentclass[•]{•}'
%                add '\input{path/to/preamble.tex}' where 'path/to/preamble.tex'
%                is the location of the 'preamble.tex' file on your system.
%
%-------------------------------------------------------------------------------
%             PAGE LAYOUT                                                      |
%-------------------------------------------------------------------------------
%
\usepackage{layout}
%
%   Use the command '\layout{}' after '\begin{document}' to print a page showing
%   the current layout settings. This is useful if you wish to adjust these
%   measurements.
%
%   Next we customize these dimensions. Notice that every dimension calculation
%   is based on either the size of the page or the size of the font. This allows
%   for compatibility across different user preferences and setups. Refer to the
%   Usage Guide for the motivation behind these choices.
\hoffset = 0.06\paperwidth
\voffset = -0.025\paperheight
\oddsidemargin = 0pt
\topmargin = 0pt
\headheight = 1.3em
\headsep = 1.3em
\textheight = 0.78\paperheight
\textwidth = 0.59\paperwidth
\marginparsep = 1.5em
\marginparwidth = 0.17\paperwidth
\footskip = 2.5\headheight
%
%-------------------------------------------------------------------------------
%             LOAD ALL OF THE PACKAGES                                         |
%-------------------------------------------------------------------------------
%
%   This is where we load all of the packages that may be useful in creating
%   your document. Refer to the Usage Guide for thorough information on the
%   application of each package.
%
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{dsfont}
\usepackage{mathrsfs}
\usepackage{cancel}
\usepackage[shortlabels]{enumitem}
\usepackage{array}
	\setlength{\extrarowheight}{1pt}
\usepackage{arydshln}
\usepackage{relsize}
\usepackage[dvipsnames]{xcolor}
\usepackage{tikz}
	\usetikzlibrary{shapes}
\usepackage{pgfplots}
	\pgfplotsset{compat = 1.10}
	\usepgfplotslibrary{fillbetween}
\usepackage{needspace}
\usepackage[textwidth = 0.9\marginparwidth]{todonotes}
\usepackage{fancyhdr}
\usepackage{parskip}
\usepackage{imakeidx}
\usepackage[
	colorlinks=true,
	linkcolor=blue,
	linkbordercolor=white,
	urlcolor=blue,
	unicode
	]{hyperref}
\usepackage{cleveref}
\usepackage{framed}
\usepackage{wasysym}
\usepackage{lipsum}
\usepackage{alphalph}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{tabularx}
\usepackage{textgreek}
\usepackage{upgreek}
\usepackage{fancyvrb}
\usepackage{signchart}
\usepackage{microtype}
\usepackage{multicol}
%
%-------------------------------------------------------------------------------
%             FOOTNOTE SYMBOLS                                                 |
%-------------------------------------------------------------------------------
%
%   Since the intended use of this preamble is for the creating of mathematical
%   documents, we must be careful that the footnote symbols will not be confused
%   with mathematical symbols, e.g. a '2' footnote mark being mistaken as the
%   square of a number. This is where we select the symbols we wish to use. To
%   add your own symbol to the list, simply append
%     \or
%       \newsymbol
%   to the list below.
%
\makeatletter%
\newcommand*{\myfnsymbolsingle}[1]{%
  \ensuremath{%
    \ifcase#1
    \or
      \dag
    \or
      \ddag
    \or
      \kreuz
    \or
      \star
    \else
      \@ctrerr  
    \fi
  }%   
}   
\makeatother%
\newcommand*{\myfnsymbol}[1]{%
  \myfnsymbolsingle{\value{#1}}%
}
\newalphalph{\myfnsymbolmult}[mult]{\myfnsymbolsingle}{}%
\renewcommand*{\thefootnote}{%
  \myfnsymbolmult{\value{footnote}}%
}
% For referencing multiple locations to single footnote,
% 	use '\footnote{\label{foo}<text in the footnote>}',
% 	and later use: '\cref{foo}'
\crefformat{footnote}{#2\footnotemark[#1]#3}%
%
%-------------------------------------------------------------------------------
%             MATH-SPECIFIC COMMANDS, OPERATORS, AND DEFINITIONS               |
%-------------------------------------------------------------------------------
%
%----- DOUBLE STROKE CHARACTERS -----%
\newcommand{\N}{\mathds{N}}		% Naturals
\newcommand{\Z}{\mathds{Z}}		% Integers
\newcommand{\Q}{\mathds{Q}}		% Rationals
\newcommand{\R}{\mathds{R}}		% Reals
\renewcommand{\C}{\mathds{C}}	% Complex numbers
\renewcommand{\H}{\mathds{H}}	% Quaternions (Hamiltonions)
\newcommand{\F}{\mathds{F}}		% Generic field
%
%----- AUTOMATICALLY SCALED DELIMITERS -----%
\newcommand{\paren}[1]{\left( #1 \right)}%                              ( )
\newcommand{\ang}[1]{\left\langle #1 \right\rangle}%                    < >
\newcommand{\brc}[1]{\left\{ #1 \right\}}%                              { }
\newcommand{\brkt}[1]{\left[ #1 \right]}%                               [ ]
\newcommand{\abs}[1]{\left\vert #1 \right\vert}%                        | |
\newcommand{\norm}[1]{\left\| #1 \right\|}%                            || ||
%
%----- FUNCTIONS -----%
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}		% Ceiling function
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}	% Floor function
%
%----- OPERATORS -----%
\newcommand{\iso}{\cong}	                   % The 'is isomorphic to' symbol
\newcommand{\nsg}{\unlhd}                  % The 'normal subgroup' symbol
\newcommand{\rnsg}{\unrhd}                 % Reversed 'normal subgroup' symbol
\newcommand{\nnsg}{\ntrianglelefteq}	       % Negated 'normal subgroup' symbol
\newcommand{\del}{\nabla}                  % The 'del', or 'gradient' operator
\renewcommand{\bar}[1]{                    % The complex conjugate
	\mkern 1mu\overline{\mkern-1mu#1\mkern-1mu}}
\DeclareMathOperator{\ord}{ord}            % Order
\DeclareMathOperator{\sgn}{sgn}            % Sign function
\DeclareMathOperator{\lcm}{lcm}            % Least common multiple
\DeclareMathOperator{\aut}{Aut}            % Group of automorphisms
\DeclareMathOperator{\inn}{Inn}            % Group of inner automorphisms
\DeclareMathOperator{\sym}{Sym}            % Symmetric group
\DeclareMathOperator{\id}{id}              % Identity operator
\DeclareMathOperator{\img}{Im}             % Image of a function
\DeclareMathOperator{\stab}{Stab}          % Stabilizer
\DeclareMathOperator{\orb}{Orb}            % Orbit
\DeclareMathOperator{\cl}{C\ell}	           % Conjugacy class
\DeclareMathOperator{\core}{core}          % Core
\DeclareMathOperator{\syl}{Syl}            % Sylow group
\DeclareMathOperator{\cha}{char}           % Characteristic
\DeclareMathOperator{\tr}{tr}              % Trace of a matrix
\DeclareMathOperator{\fun}{Fun}            % Set of functions
\DeclareMathOperator{\cis}{cis}            % Cos + i Sin
\DeclareMathOperator{\Arg}{Arg}            % Principal argument
\renewcommand{\limsup}{\varlimsup}         % Limit superior
\renewcommand{\liminf}{\varliminf}         % Limit inferior
\renewcommand{\Re}{\operatorname{Re}}      % Real part
\renewcommand{\Im}{\operatorname{Im}}      % Imaginary part
% Upper integral
\def\upint{\mathchoice
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
	\int}
% Lower integral
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}
\newcommand{\dsum}{\displaystyle\sum\limits}% Like \dfrac, but for inline sums
%
%----- UNCATEGORIZED -----%
%   I want math inside of \textbf{•} to also be bolded font
\DeclareTextFontCommand{\textbf}{\boldmath\bfseries}
%
%   You can create your own fraction-like commands using '\genfrac'. This takes
%   6 inputs:
%      1. left delimiter
%      2. right delimiter
%      3. fraction bar line thickness
%      4. mathstyle size override:
%         0--displaystyle, 1--textstyle, 2--scriptstyle, 3--scriptscriptstyle
%      5. numerator content
%      6. denominator content
%
%-------------------------------------------------------------------------------
%             THEOREM STYLES                                                   |
%-------------------------------------------------------------------------------
%
%   Here we define some custom styles for theorem-like environments. Refer to
%   the 'amsthm' documentation for an explanation of how this is done.
%
%----- DEFINE THE STYLES -----%
\newtheoremstyle{first_style}
	{\baselineskip}
	{0.7\baselineskip}
	{\slshape}
	{}
	{\bfseries}
	{.}
	{0.5em}
	{}
\newtheoremstyle{second_style}
	{\baselineskip}
	{0.7\baselineskip}
	{\normalfont}
	{}
	{\bfseries}
	{:}
	{0.5em}
	{}
\newtheoremstyle{third_style}
	{1ex}
	{-0.5\baselineskip}
	{\normalfont}
	{}
	{\slshape\bfseries}
	{:}
	{0.25em}
	{}
%----- DEFINE THE ENVIRONMENTS -----%
\theoremstyle{first_style}
	\newtheorem{nthm}{Theorem}[section]
	\newtheorem{nlem}[nthm]{Lemma}
	\newtheorem{nprop}[nthm]{Proposition}
	\newtheorem{ncor}[nthm]{Corollary}
	\newtheorem*{thm}{Theorem}
	\newtheorem*{lem}{Lemma}
	\newtheorem*{prop}{Proposition}
	\newtheorem*{cor}{Corollary}
\theoremstyle{second_style}
	\newtheorem*{defn}{Definition}
	\newtheorem*{exmp}{Example}
	\newtheorem*{sol}{Solution}
	\newtheorem*{case}{Case}
\theoremstyle{third_style}
	\newtheorem*{note}{Note}
	\newtheorem*{claim}{Claim}
%----- OPTIONAL FRAMED VERSIONS -----%
\newcommand{\frameddefinitions}{
	\let\olddefn\defn
	\let\oldenddefn\enddefn
	\renewenvironment{defn}{\begin{framed} \olddefn}{\oldenddefn \end{framed}}
}
\newcommand{\framedtheorems}{
	\let\oldthm\thm
	\let\oldendthm\endthm
	\renewenvironment{thm}{\begin{framed} \oldthm}{\oldendthm \end{framed}}
	\let\oldlem\lem
	\let\oldendlem\endlem
	\renewenvironment{lem}{\begin{framed} \oldlem}{\oldendlem \end{framed}}
	\let\oldprop\prop
	\let\oldendprop\endprop
	\renewenvironment{prop}{\begin{framed} \oldprop}{\oldendprop \end{framed}}
	\let\oldcor\cor
	\let\oldendcor\endcor
	\renewenvironment{cor}{\begin{framed} \oldcor}{\oldendcor \end{framed}}
}
\newcommand{\framedntheorems}{
	\let\oldnthm\nthm
	\let\oldendnthm\endnthm
	\renewenvironment{nthm}{\begin{framed} \oldnthm}{\oldendnthm \end{framed}}
	\let\oldnlem\nlem
	\let\oldendnlem\endnlem
	\renewenvironment{nlem}{\begin{framed} \oldnlem}{\oldendnlem \end{framed}}
	\let\oldnprop\nprop
	\let\oldendnprop\endnprop
	\renewenvironment{nprop}{\begin{framed} \oldnprop}{\oldendnprop \end{framed}}
	\let\oldncor\ncor
	\let\oldendncor\endncor
	\renewenvironment{ncor}{\begin{framed} \oldncor}{\oldendncor \end{framed}}
}
%
%-------------------------------------------------------------------------------
%             THE HEADER                                                       |
%-------------------------------------------------------------------------------
%
%   We use the 'fancyhdr' package to create our header. Here I place the <Course
%   Title> on the left, <Homework Title> in the center, and <Your Name> on the
%   right. Since your name will not change between documents, I recommend
%   specifying your name here like I did.
%
\def\cn{<Course Title>}
\def\as{<Assignment Title>}
\def\nm{Tony Mottaz}       % <== your name here
\newcommand{\coursetitle}[1]{\def\cn{#1}}
\newcommand{\hwtitle}[1]{\def\as{#1}}
\newcommand{\myname}[1]{\def\nm{#1}}
\lhead{\scshape \cn}
\chead{\scshape \as}
\rhead{\scshape \nm}
\pagestyle{fancy}
%
%-------------------------------------------------------------------------------
%             UNCATEGORIZED FEATURES                                           |
%-------------------------------------------------------------------------------
%
%----- PROOF ENVIRONMENT -----%
%
%   Here I redefine the proof environment so that if fewer than 4 lines will
%   show at the bottom of a page, then the entire environment will be pushed
%   onto the next page.
\expandafter\let\expandafter\oldproof\csname\string\proof\endcsname
\let\oldendproof\endproof
\renewenvironment{proof}[1][\proofname]{%
	\Needspace*{4\baselineskip} \oldproof[#1]}
	{\oldendproof}
%
%----- DARK THEME -----%
%
%   Here I provide the command '\darktheme' to turn your output PDF completely
%   dark. This lowers eye strain when editing documents for long time periods.
\newcommand{\darktheme}{
	\pagecolor[rgb]{0.1,0.1,0.1}
	\color[rgb]{0.95,0.95,0.95}
}
%
%----- CIRCLED -----%
%
%   If you want something circled, this will do it nicely.
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{%
	\node[shape=ellipse,draw,inner sep=1pt] (char) {#1};}}
%
%----- MARGIN ALIGN -----%
%
%   If you want item labels aligned at the margins, use
%   \begin{enumerate}[align=margin,labelsep=0pt]
\SetLabelAlign{margin}{\llap{#1~~}}
%
%----- MARGIN PARAGRAPHS -----%
\newcommand{\mpar}[1]{\marginpar{\footnotesize#1}}
